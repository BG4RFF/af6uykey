Version 4
SHEET 1 5196 728
WIRE 0 32 0 0
WIRE 128 32 128 0
WIRE 272 32 272 0
WIRE 816 128 816 80
WIRE 1456 128 1456 80
WIRE 0 144 0 112
WIRE 128 144 128 112
WIRE 272 144 272 112
WIRE 432 208 304 208
WIRE 608 208 432 208
WIRE 976 208 896 208
WIRE 1248 208 976 208
WIRE 1600 208 1536 208
WIRE -64 224 -112 224
WIRE 16 224 -64 224
WIRE -112 256 -112 224
WIRE 688 336 688 288
WIRE 816 336 816 288
WIRE 1328 336 1328 288
WIRE 1456 336 1456 288
WIRE -112 352 -112 336
WIRE 304 352 304 208
WIRE -80 416 -112 416
WIRE 16 416 -80 416
WIRE -112 448 -112 416
WIRE -112 544 -112 528
WIRE 304 544 304 432
FLAG 304 544 0
FLAG 0 144 0
FLAG 128 144 0
FLAG 0 0 Vp
FLAG 128 0 Vn
FLAG 816 80 Vp
FLAG 816 336 Vn
FLAG 976 208 OUT1
FLAG 272 144 0
FLAG 272 0 Vref
FLAG 688 336 Vref
FLAG 432 208 IN
FLAG 1600 208 OUT
FLAG 1456 80 Vp
FLAG 1456 336 Vn
FLAG 1328 336 Vref
FLAG -112 352 0
FLAG -112 544 0
FLAG -64 224 sine
FLAG -80 416 ramp
SYMBOL voltage 0 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 9
SYMBOL voltage 128 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -9
SYMBOL voltage 272 16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL StageA_LowPassFirstOrder_LT2078 640 160 R0
WINDOW 39 -35 -155 Left 2
WINDOW 0 -36 -221 Left 2
SYMATTR InstName STAGE1
SYMBOL StageB_LowPassSallenKey_LT2078 1280 160 R0
WINDOW 0 -35 -219 Left 2
WINDOW 39 -36 -158 Left 2
SYMATTR InstName STAGE2
SYMBOL voltage -112 240 R0
SYMATTR InstName V4
SYMATTR Value SINE(2.5 2.5 1000)
SYMBOL voltage -112 432 R0
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 0 25u 25u 0 50u)
SYMBOL bv 304 336 R0
SYMATTR InstName B1
SYMATTR Value V=if(V(sine)>V(ramp),5,0)
TEXT 280 648 Left 2 !.tran 0 2m .5m 1u
