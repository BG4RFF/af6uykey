Version 4
SHEET 1 5196 856
WIRE -96 -80 -112 -80
WIRE -32 -80 -96 -80
WIRE 144 -80 48 -80
WIRE 304 -80 144 -80
WIRE 448 -80 384 -80
WIRE 144 16 144 -80
WIRE 208 16 144 16
WIRE 448 32 448 -80
WIRE 448 32 272 32
WIRE 0 48 -48 48
WIRE 144 48 80 48
WIRE 208 48 144 48
WIRE 144 80 144 48
WIRE 816 128 816 80
WIRE 1456 128 1456 80
WIRE 144 192 144 160
WIRE 448 208 448 32
WIRE 608 208 448 208
WIRE 976 208 896 208
WIRE 1248 208 976 208
WIRE 1600 208 1536 208
WIRE -48 288 -48 48
WIRE 112 288 -48 288
WIRE 304 288 112 288
WIRE 688 336 688 288
WIRE 816 336 816 288
WIRE 1328 336 1328 288
WIRE 1456 336 1456 288
WIRE 304 352 304 288
WIRE -96 448 -128 448
WIRE 32 448 -96 448
WIRE -128 480 -128 448
WIRE 304 544 304 432
WIRE 960 544 960 512
WIRE 1088 544 1088 512
WIRE 1232 544 1232 512
WIRE -128 576 -128 560
WIRE -48 640 -128 640
WIRE 32 640 -48 640
WIRE 960 656 960 624
WIRE 1088 656 1088 624
WIRE 1232 656 1232 624
WIRE -128 672 -128 640
WIRE -128 768 -128 752
FLAG 304 544 0
FLAG 960 656 0
FLAG 1088 656 0
FLAG 960 512 Vp
FLAG 1088 512 Vn
FLAG 816 80 Vp
FLAG 816 336 Vn
FLAG 976 208 OUT1
FLAG 1232 656 0
FLAG 1232 512 Vref
FLAG 688 336 Vref
FLAG 112 288 IN
FLAG 1600 208 OUT
FLAG 1456 80 Vp
FLAG 1456 336 Vn
FLAG 1328 336 Vref
FLAG -128 576 0
FLAG -128 768 0
FLAG -96 448 sine
FLAG -48 640 ramp
FLAG 144 192 0
FLAG -96 -80 Vp
SYMBOL voltage 960 528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vp
SYMATTR Value 9
SYMBOL voltage 1088 528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vn
SYMATTR Value 0
SYMBOL voltage 1232 528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vref
SYMATTR Value 0
SYMBOL StageA_LowPassFirstOrder_LT1012 640 160 R0
WINDOW 39 -35 -155 Left 2
WINDOW 0 -36 -221 Left 2
SYMATTR InstName STAGE1
SYMBOL StageB_LowPassSallenKey_LT1012 1280 160 R0
WINDOW 0 -35 -219 Left 2
WINDOW 39 -36 -158 Left 2
SYMATTR InstName STAGE2
SYMBOL voltage -128 464 R0
SYMATTR InstName Vsine
SYMATTR Value SINE(2.5 2.5 600)
SYMBOL voltage -128 656 R0
SYMATTR InstName Vramp
SYMATTR Value PULSE(0 5 0 15.873u 15.973u 0 31.746u)
SYMBOL bv 304 336 R0
SYMATTR InstName B1
SYMATTR Value V=if(V(sine)>V(ramp),5,0)
SYMBOL Opamps/LT1012 240 -32 R0
SYMATTR InstName U1
SYMBOL res 128 64 R0
SYMATTR InstName R1
SYMATTR Value 1000
SYMBOL res 96 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 2000
SYMBOL res 64 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1000
SYMBOL res 400 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
TEXT -136 840 Left 2 !.tran 0 10m .5m 1u
